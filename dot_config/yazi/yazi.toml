[mgr]
ratio = [1, 3, 4]
sort_by = "natural"
sort_dir_first = true
linemode = "size"
show_hidden = true

[preview]
image_filter = "triangle"
image_quality = 50
image_delay = 100
max_width = 1200
max_height = 900

[opener]
edit = [
  { run = 'nvim "$@"', block = true, for = "unix" },
]

# --- Git fetchers (git.yazi) ---
[[plugin.prepend_fetchers]]
id  = "git"
url = "*"
run = "git"

[[plugin.prepend_fetchers]]
id  = "git"
url = "*/"
run = "git"

# --- Image zoom previewer (upscales small images to fill pane) ---
[[plugin.prepend_previewers]]
mime = "image/*"
run  = "zoom 5"

# --- Piper previewers ---
[[plugin.prepend_previewers]]
url = "*.md"
run = 'piper -- CLICOLOR_FORCE=1 glow -w=$w -s=dark "$1"'

[[plugin.prepend_previewers]]
url = "*.csv"
run = 'piper -- bat -p --color=always "$1"'

[[plugin.prepend_previewers]]
url = "*.tsv"
run = 'piper -- bat -p --color=always "$1"'
